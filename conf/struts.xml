<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<!-- 配置3种扩展名 .action .do  默认不写-->
	<constant name="struts.action.extension" value="=action,do,,"></constant>
	<!-- 允许动态方法调用 -->
    <constant name="struts.enable.DynamicMethodInvocation" value="true" />
    <constant name="struts.devMode" value="true" />

    <package name="default" namespace="/" extends="struts-default">
    	<action name="login">
    		<result>/WEB-INF/user/login.jsp</result>
    	</action>
    </package>
    
    <package name="json" namespace="/" extends="json-default">
    	<action name="queryMachine" class="queryMachineAction">
			<result type="json">
			</result>
		</action>
    </package>
    
    <!-- 设备 -->
    <package name="machine" namespace="/machine" extends="struts-default">
    	<global-results>
    		<result name="input"></result>	
    	</global-results>
    	<global-exception-mappings>
    		<exception-mapping result="input" exception="java.lang.Exception"></exception-mapping>	
    	</global-exception-mappings>

		<action name="query">
			<result>/WEB-INF/machine/query.jsp</result>
		</action>
		
    	
    	<action name="machine-*" class="machineAction" method="{1}">
			
			<result name="success">/WEB-INF/machine/list.jsp</result>
			<result name="add">/WEB-INF/machine/add.jsp</result>
			<result name="save" type="redirectAction">machine-list</result>
			<result name="edit">/WEB-INF/machine/edit.jsp</result>
			
    	</action>
    </package>
	
	<!-- 零件 -->
	<package name="part" namespace="/part" extends="struts-default">
		
		<action name="part-*" class="partAction" method="{1}">
			<result name="add">/WEB-INF/part/add.jsp</result>
			
			<result name="save" type="redirect">/index.jsp</result>
			
		</action>	
	
	</package>
	
	
	<!-- 用户 -->
	<package name="user" namespace="/user" extends="struts-default">
		<action name="user" class="userAction">
			<result>/index.jsp</result>
		</action>
	</package>    
    

</struts>
